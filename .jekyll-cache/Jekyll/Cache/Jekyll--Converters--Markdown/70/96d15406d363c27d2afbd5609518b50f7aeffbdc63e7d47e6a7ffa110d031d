I"˜<blockquote>
  <p>zabbixâ€”ç¬¬5ç¯‡. â€</p>
</blockquote>

<p>mysqlçš„ç›‘æ§zabbiæœ‰è‡ªå¸¦çš„æ¨¡æ¿ï¼Œä½†ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚</p>

<p>ç›‘æ§mysqlçš„å“ªäº›ä¸œè¥¿ï¼Ÿ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MySQL begin operations per second	MySQLæ¯ç§’å¼€å§‹è¿ç®—
MySQL bytes received per second	æ¯ç§’æ¥æ”¶çš„MySQLå­—èŠ‚æ•°
MySQL bytes sent per second	æ¯ç§’å‘é€çš„MySQLå­—èŠ‚æ•°
MySQL commit operations per second	æ¯ç§’MySQLæäº¤æ“ä½œ
MySQL delete operations per second	MySQLæ¯ç§’åˆ é™¤æ“ä½œæ•°
MySQL insert operations per second	MySQLæ¯ç§’æ’å…¥æ“ä½œæ•°
MySQL queries per second	æ¯ç§’MySQLæŸ¥è¯¢
MySQL rollback operations per second	æ¯ç§’MySQLå›æ»šæ“ä½œ
MySQL select operations per second	MySQLæ¯ç§’é€‰æ‹©æ“ä½œ
MySQL slow queries	MySQLæ…¢æŸ¥è¯¢
MySQL status	MySQLçŠ¶æ€
MySQL update operations per second	æ¯ç§’MySQLæ›´æ–°æ“ä½œ
MySQL uptime	MySQLæ­£å¸¸è¿è¡Œæ—¶é—´
MySQL version	MySQLç‰ˆæœ¬
</code></pre></div></div>

<h1 id="é‡æ–°é…ç½®mysqlçš„é…ç½®æ–‡ä»¶">é‡æ–°é…ç½®mysqlçš„é…ç½®æ–‡ä»¶</h1>
<p>åŸæ¥çš„æ–‡ä»¶ï¼š/etc/zabbix/zabbix_agentd.d/userparameter_mysql.conf</p>

<p>æ‹·è´ä¸€ä»½åˆ°å¦å¤–çš„ç›®å½•ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åˆ›å»ºï¼šmkdir -p /opt/zabbix/etc/zabbix_agentd.conf.d/

cp /etc/zabbix/zabbix_agentd.d/userparameter_mysql.conf  /opt/zabbix/etc/zabbix_agentd.conf.d/
</code></pre></div></div>

<h1 id="è®¾ç½®å…³è”mysqlçš„é…ç½®æ–‡ä»¶">è®¾ç½®å…³è”mysqlçš„é…ç½®æ–‡ä»¶</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim /opt/zabbix/etc/.my.cnf

[mysql]
host=192.168.11.36
user=localhost
password=
socket=/var/lib/mysql/mysql.sock
[mysqladmin]
host=192.168.11.36
user=localhost
password=
socket=/var/lib/mysql/mysql.sock

hostï¼šå†™ä½ çš„æ•°æ®åº“IP
userï¼šæˆ‘è¿™é‡Œå†™çš„æ˜¯localhostï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„ï¼ˆåé¢æˆæƒæ•°æ®åº“ï¼Œä¸ç„¶zabbix_getä¸åˆ°æ•°æ®ï¼‰
passwordï¼šç©ºå¯ä»¥ä¸å†™ï¼Œæœ‰å°±å¡«ä¸Š
# mysql.sockæ–‡ä»¶é€šè¿‡find / -name mysql.sockæ‰¾å‡ºè·¯å¾„
</code></pre></div></div>

<h1 id="æˆæƒæ•°æ®åº“">æˆæƒæ•°æ®åº“</h1>
<p>å…ˆç™»å½•åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ï¼šmysql -u root -p</p>

<p>æˆæƒå¹¶åˆ·æ–°ä¸‹å³å¯ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql&gt; grant all privileges on localhost.* to root@localhost identified by "YOURPASSWORD";
Query OK, 0 rows affected (0.00 sec)

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)
</code></pre></div></div>

<p>ä½¿ç”¨localhostç™»å½•æ•°æ®åº“çœ‹èƒ½ä¸èƒ½ç™»å½•ä¸Šï¼šmysql -u localhost -p</p>

<h1 id="ä¿®æ”¹userparameter_mysqlconfé…ç½®æ–‡ä»¶">ä¿®æ”¹userparameter_mysql.confé…ç½®æ–‡ä»¶</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>s@/var/lib/zabbix@/opt/zabbix/etc@gï¼Œå°†/var/lig/zabbixçš„è·¯å¾„ä¿®æ”¹ä¸º/opt/zabbix/etc
</code></pre></div></div>

<h1 id="æ·»åŠ zabbix_agentdconfæ–‡ä»¶çš„include">æ·»åŠ zabbix_agentd.confæ–‡ä»¶çš„include</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ä¿®æ”¹vim /etc/zabbix/zabbix_agentd.confæ–‡ä»¶æ·»åŠ ï¼šInclude=/opt/zabbix/etc/zabbix_agentd.conf.d/
</code></pre></div></div>

<h1 id="é‡å¯zabbix-agent">é‡å¯zabbix-agent</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl restart zabbix-agent
</code></pre></div></div>

<h1 id="åœ¨serverç«¯æµ‹è¯•">åœ¨serverç«¯æµ‹è¯•</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@zabbix-server ~]# zabbix_get -s 192.168.11.36 -p 10050 -k mysql.ping
1

[root@zabbix-server ~]# zabbix_get -s 192.168.11.36 -p 10050 -k mysql.version
mysql  Ver 14.14 Distrib 5.6.48, for Linux (x86_64) using  EditLine wrapper

[root@zabbix-server ~]# zabbix_get -s 192.168.11.36 -p 10050 -k mysql.status[Com_select]
500

å‚æ•°ï¼š[Com_begin]ï¼Œ[Com_delete]ï¼Œ[Bytes_received]ï¼Œ[Bytes_sent]ï¼Œ[Com_commit]ï¼Œ[Com_insert]ï¼Œ[Questions]ï¼Œ[Com_rollback]ï¼Œ[Com_rollback]
</code></pre></div></div>

<h1 id="é…ç½®webé¡µé¢">é…ç½®webé¡µé¢</h1>

<p>æ·»åŠ æ¨¡æ¿ï¼š
<img src="/img/zabbix-mysqlæ¨¡æ¿æ·»åŠ .png" alt="" /></p>

<p>æŸ¥çœ‹æ•°æ®ï¼š
<img src="/img/zabbix-mysqlæŸ¥çœ‹æ•°æ®.png" alt="" /></p>

<h1 id="è§¦å‘å™¨">è§¦å‘å™¨</h1>
<p>æ•°æ®åº“çš„è§¦å‘å™¨å¦‚ä½•é…ç½®ï¼Ÿ</p>
:ET